{"version":3,"sources":["services/persons.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Filter.js","App.js","index.js"],"names":["baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","remove","delete","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Person","person","deletePerson","name","number","onClick","Persons","persons","filter","map","toLowerCase","includes","Filter","handleFilterChange","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","message","setMessage","useEffect","personService","returnedPersons","Notification","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","firstChar","charAt","style","event","some","window","confirm","preventDefault","personObject","oldPerson","setTimeout","catch","error","newPerson","concat","console","log","target","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a13a6f9f.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request =  axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request =  axios.post(baseUrl,newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request =  axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst exportedObject = {\r\n    getAll: getAll,\r\n    create: create,\r\n    update: update,\r\n    remove: remove\r\n}\r\n\r\nexport default exportedObject","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson,newName,handleNameChange,newNumber,handleNumberChange}) => {\r\n    return(\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input value={newName} onChange ={handleNameChange}/>\r\n        </div>\r\n        <div>\r\n          number: <input value={newNumber} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button type='submit'>add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Person = ({person,deletePerson}) => {\r\n    return(\r\n      <p>{person.name} {person.number}  <button onClick={() => deletePerson(person.id)} > delete</button> </p> \r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons,filter,deletePerson}) =>{\r\n    if(filter===''){\r\n        return (\r\n        persons.map(person => <Person key={person.name} person={person} deletePerson={deletePerson}/> )\r\n        )\r\n    }\r\n\r\n    const filteredPersons = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\r\n    return(\r\n        filteredPersons.map(person => <Person key={person.name} person={person} deletePerson={deletePerson}/>)\r\n    )\r\n}\r\n  \r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({filter,handleFilterChange}) => {\r\n  return(\r\n    <div>\r\n      search names <input value={filter} onChange={handleFilterChange}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React, {useState, useEffect} from 'react'\nimport personService from './services/persons'\n\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setNewFilter] = useState('')\n  const [message, setMessage ] = useState(null)\n  \n  const handleNameChange = (event) => {setNewName(event.target.value)}\n  const handleNumberChange = (event) => {setNewNumber(event.target.value)}\n  const handleFilterChange = (event) => {setNewFilter(event.target.value)}\n\n  useEffect( () => {\n    personService\n      .getAll()\n      .then(returnedPersons => setPersons(returnedPersons))\n  },[])\n \n  const Notification = ({message}) => {\n    if(message === null){\n      return null\n    }\n\n    let notificationStyle = {\n      color: 'green',\n      background: 'lightgrey',\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10\n    }\n\n    const firstChar = message.charAt(0)\n    if(firstChar === 'A' || firstChar === 'U'){\n      notificationStyle.color = 'green'\n    }else{\n      notificationStyle.color = 'red'\n    }\n\n    return (\n      <div style={notificationStyle}>\n        {message}\n      </div>\n    )\n\n  }\n\n  const addPerson = (event) => {\n    if (persons.some(person => person.name===newName)){\n      if(window.confirm(`${newName} is already in the phonebook, replace the old number with a new one?`)){\n        event.preventDefault()\n        const personObject = {\n          name: newName,\n          number: newNumber,\n          id: newName\n        }\n\n        personService\n        .update(newName, personObject)\n        .then(oldPerson => {\n          setPersons(persons.map(person =>  person.id !== newName ? person : oldPerson))\n          setMessage(`Updated ${newName}`)\n          setTimeout( () => {setMessage(null)},5000)\n          setNewName('')\n          setNewNumber('')\n        }).catch( error => {\n          setMessage(`Information of ${newName} has already been removed from server`)\n          setTimeout( () => {setMessage(null)},5000)\n        })\n\n      }\n    }else{\n      event.preventDefault()\n      const personObject = {\n        name: newName,\n        number: newNumber,\n        id: newName\n      }\n      \n      personService\n        .create(personObject)\n        .then(newPerson => {\n          setPersons(persons.concat(newPerson))\n          setMessage(`Added ${newPerson.name}`)\n          setTimeout( () => {setMessage(null)},5000)\n          setNewName('')\n          setNewNumber('')          \n        }).catch(error => {\n          setMessage('Please fill in required fields : Name, Number')\n          console.log(error)\n          setTimeout( () =>  {setMessage(null)}, 5000 )\n        })\n    }\n  }\n\n  const deletePerson = (id) => {\n    if (window.confirm(`Delete ${persons.find(person => person.id === id).name}`)){\n      personService.remove(id)\n      setPersons(persons.filter(person => person.id !== id))\n      setMessage(`Removed ${id}`)\n      setTimeout( () => {setMessage(null)},5000)\n    }\n   \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n      <br/>\n      <Filter filter={filter} handleFilterChange={handleFilterChange}/>\n      <h2>Numbers</h2>\n      <Persons persons={persons} filter={filter} deletePerson={deletePerson} />\n      \n    </div>\n  )\n}\n\nexport default App;","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}